<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Log in – UNICON</title>
  <link rel="icon" href="UNICON.png?v=1758434378" type="image/png" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; background:#F7F7F4; }
    .wm{position:fixed;inset:0;pointer-events:none;background-repeat:no-repeat;background-position:center;background-size:240px;opacity:.08}
  </style>
</head>
<body class="antialiased text-slate-900">
  <div id="wm" class="wm" aria-hidden="true"></div>
  <main class="min-h-screen grid place-items-center py-10">
    <div class="w-full max-w-md mx-auto bg-white rounded-2xl p-6 border border-slate-200 shadow-sm">
      <div class="flex items-center gap-3 mb-2">
        <img id="logo" src="UNICON.png?v=1758434378" class="h-12 w-12 rounded-lg object-contain" alt="UNICON" />
        <div>
          <h1 class="text-xl font-semibold">Log in</h1>
          <p id="school" class="text-xs text-slate-600">Welcome to UNICON</p>
        </div>
      </div>
      <form id="login" class="space-y-4">
        <label class="block">
          <span class="block text-sm font-medium text-[#1E3A5F]">School email</span>
          <input id="email" type="email" placeholder="you@school.edu" class="w-full rounded-xl border border-slate-200 px-4 py-3" />
        </label>
        <label class="block">
          <span class="block text-sm font-medium text-[#1E3A5F]">Password</span>
          <input id="password" type="password" placeholder="••••••••" class="w-full rounded-xl border border-slate-200 px-4 py-3" />
        </label>
        <div id="msg" class="hidden rounded-xl border px-4 py-3 text-sm"></div>
        <button class="w-full h-12 rounded-xl font-semibold text-white" style="background:#1D4E89">Continue</button>
      </form>
      <div class="mt-4 text-center text-sm text-slate-600">
        No account? <a href="register.html" class="text-[#1D4E89] hover:underline">Register</a>
      </div>
    </div>
  </main>
  <script>
    function getBrand(){ try{ return JSON.parse(localStorage.getItem('uniconBrand')||'null'); }catch{ return null; } }
    const brand = getBrand();
    if (brand?.logoData) document.getElementById('logo').src = brand.logoData;
    if (brand?.name) document.getElementById('school').textContent = brand.name;
    if (brand?.color) document.querySelector('button').style.background = brand.color;
    document.getElementById('wm').style.backgroundImage = `url('${brand?.logoData || 'UNICON.png?v=1758434378'}')`;
    const form = document.getElementById('login');
    form.addEventListener('submit', (e)=>{
      e.preventDefault();
      const email = document.getElementById('email').value.trim();
      const password = document.getElementById('password').value;
      const msg = document.getElementById('msg');
      const show = (text, ok=false)=>{ msg.classList.remove('hidden'); msg.style.borderColor = '#D1D5DB'; msg.style.backgroundColor = ok ? '#ecfdf5' : '#fff7ed'; msg.style.color = ok ? '#065f46' : '#7c2d12'; msg.textContent = text; };
      let data = null; try { data = JSON.parse(localStorage.getItem('unicon_user')||'null'); } catch{}
      if (!data) return show('No account found. Please register first.');
      if (data.email !== email || data.password !== password) return show('Invalid email or password.');
      try { localStorage.setItem('uniconSessionEmail', email); } catch{}
      show('Success! Redirecting…', true);
      setTimeout(()=>{ window.location.href = 'app.html'; }, 400);
    });
  </script>
</body>
</html>


