<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Register – UNICON</title>
  <link rel="icon" href="../UNICON.png?v=1758434378" type="image/png" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root{ --brand:#1D4E89; --brand2:#6AA7D8; }
    body { font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; background:#F7F7F4; }
    .wm{position:fixed;inset:0;pointer-events:none;background-repeat:no-repeat;background-position:center;background-size:min(60vw, 680px);opacity:.08;z-index:0}
    .btn-grad{ background:linear-gradient(135deg,#E6F0FF,var(--brand)); color:#fff; border:1.5px solid color-mix(in srgb, var(--brand) 55%, #1E3A5F); box-shadow:0 12px 28px color-mix(in srgb, var(--brand) 30%, transparent) }
    .btn-grad:hover{ filter:brightness(.97) }
  </style>
</head>
<body class="antialiased text-slate-900">
  <div id="wm" class="wm" aria-hidden="true"></div>
  <main class="relative z-10 min-h-screen px-4 py-10">
    <div class="mx-auto max-w-7xl">
      <div class="mb-8 flex items-center justify-between">
        <a href="index.html" class="text-sm text-slate-600 hover:underline">← Back to landing</a>
        <span class="text-sm text-slate-500">Register your school</span>
      </div>
      <section class="rounded-3xl border bg-white/70 backdrop-blur p-6 shadow-sm" style="border-color:#E5E7EB">
        <h2 class="text-center text-3xl font-serif" style="color:#1E3A5F">Pricing</h2>
        <p class="mt-1 text-center text-slate-600">Choose the plan that fits your campus. You can switch later.</p>
        <div id="planGrid" class="mt-6 grid gap-5 sm:grid-cols-2 lg:grid-cols-3">
          <div class="plan-card rounded-2xl border p-5 bg-white shadow-sm transition hover:shadow-lg hover:-translate-y-0.5" data-plan="Basic" style="border-color:#E5E7EB">
            <div class="flex items-center justify-between"><h3 class="text-lg font-semibold text-[#1E3A5F]">Basic</h3><span class="text-sm px-2 py-0.5 rounded-full border" style="border-color:#E5E7EB">₱888</span></div>
            <ul class="mt-3 text-sm text-slate-700 space-y-1">
              <li>Default theme</li>
              <li>View‑only announcements</li>
              <li>Events calendar (available)</li>
              <li>Marketplace: not included</li>
              <li>Clubs & forums: not included</li>
              <li>ICT tools: not available</li>
              <li>Internal banners may appear</li>
              <li>In‑app promotions: not allowed</li>
              <li>Default layout</li>
              <li>Community support hub</li>
            </ul>
            <button type="button" class="choose-plan mt-4 w-full rounded-full px-4 py-2 border text-[#1E3A5F]" data-plan="Basic">Start Free Trial</button>
          </div>
          <div class="plan-card rounded-2xl border p-5 bg-white shadow-sm transition hover:shadow-lg hover:-translate-y-0.5" data-plan="Pro" style="border-color:#E5E7EB">
            <div class="flex items-center justify-between"><h3 class="text-lg font-semibold text-[#1E3A5F]">Pro</h3><span class="text-sm px-2 py-0.5 rounded-full border" style="border-color:#E5E7EB">₱1,888</span></div>
            <span class="inline-block mt-2 text-xs px-2 py-0.5 rounded-full" style="background:#E7EEF6;color:#1D4E89;border:1px solid #D1D5DB">Most Popular</span>
            <ul class="mt-3 text-sm text-slate-700 space-y-1">
              <li>Custom colors + logo</li>
              <li>Unlimited posting</li>
              <li>Events calendar (RSVP)</li>
              <li>Basic buy/sell marketplace</li>
              <li>Up to 10 student forums</li>
              <li>Basic moderation tools</li>
              <li>100% ad‑free</li>
              <li>School‑run ads (optional)</li>
              <li>Theme color editor + layout toggles</li>
              <li>Email support (3‑day)</li>
            </ul>
            <button type="button" class="choose-plan mt-4 w-full rounded-full px-4 py-2 btn-grad" data-plan="Pro">Start Free Trial</button>
          </div>
          <div class="plan-card rounded-2xl border p-5 bg-white shadow-sm transition hover:shadow-lg hover:-translate-y-0.5" data-plan="Premium" style="border-color:#E5E7EB">
            <div class="flex items-center justify-between"><h3 class="text-lg font-semibold text-[#1E3A5F]">Premium</h3><span class="text-sm px-2 py-0.5 rounded-full border" style="border-color:#E5E7EB">₱3,888</span></div>
            <ul class="mt-3 text-sm text-slate-700 grid sm:grid-cols-2 gap-x-6 gap-y-1">
              <li>Full white‑label experience</li>
              <li>Pin announcements + audience targeting</li>
              <li>RSVP + Featured slots</li>
              <li>Verified listings + school store</li>
              <li>Unlimited forums + media + polls + links</li>
              <li>Advanced mod dashboard + reports</li>
              <li>Ad‑free + school promo</li>
              <li>Priority placement + carousel ads</li>
              <li>Full UI controls</li>
              <li>Dedicated success team + chat</li>
            </ul>
            <button type="button" class="choose-plan mt-4 w-full rounded-full px-4 py-2 border text-[#1E3A5F]" data-plan="Premium">Start Free Trial</button>
          </div>
        </div>
      </section>

      <section class="mt-8">
        <div class="mx-auto max-w-4xl rounded-3xl border bg-white p-8 shadow-sm" style="border-color:#E5E7EB">
          <h2 class="text-2xl font-semibold" style="color:var(--brand)">School setup</h2>
          <div id="planNote" class="mt-2 inline-flex items-center gap-2 rounded-full border px-3 py-1 text-xs" style="border-color:#E5E7EB;color:#1E3A5F">Selected plan: <span id="selectedPlan">Pro</span></div>
          <p class="mt-1 text-slate-600 text-sm">Required fields are marked with *</p>
          <form id="reg" class="mt-6 grid gap-6 md:grid-cols-2">
          <label class="block">
            <span class="block text-sm font-medium text-[#1E3A5F]">Admin full name *</span>
            <input id="name" class="mt-1 w-full rounded-xl border px-3 py-2 border-slate-200" />
          </label>
          <label class="block">
            <span class="block text-sm font-medium text-[#1E3A5F]">Admin email *</span>
            <input id="email" type="email" class="mt-1 w-full rounded-xl border px-3 py-2 border-slate-200" />
          </label>
          <label class="block">
            <span class="block text-sm font-medium text-[#1E3A5F]">Password *</span>
            <input id="password" type="password" class="mt-1 w-full rounded-xl border px-3 py-2 border-slate-200" />
          </label>
          <label class="block">
            <span class="block text-sm font-medium text-[#1E3A5F]">Confirm password *</span>
            <input id="confirm" type="password" class="mt-1 w-full rounded-xl border px-3 py-2 border-slate-200" />
          </label>
          <label class="block">
            <span class="block text-sm font-medium text-[#1E3A5F]">School / App name *</span>
            <input id="school" class="mt-1 w-full rounded-xl border px-3 py-2 border-slate-200" />
          </label>
          <label class="block">
            <span class="block text-sm font-medium text-[#1E3A5F]">Preferred subdomain</span>
            <input id="subdomain" placeholder="e.g. usp-unicon" class="mt-1 w-full rounded-xl border px-3 py-2 border-slate-200" />
          </label>
          <div>
            <span class="block text-sm font-medium text-[#1E3A5F]">Primary color *</span>
            <div class="mt-1 flex items-center gap-3"><input id="color" type="color" value="#1D4E89" class="h-10 w-14 cursor-pointer rounded" /><span id="colorLabel" class="text-sm text-slate-600">#1D4E89</span></div>
          </div>
          <div class="md:col-span-2">
            <span class="block text-sm font-medium text-[#1E3A5F]">School logo</span>
            <input id="logo" type="file" accept="image/*" class="mt-1 block text-sm" />
            <div id="preview" class="mt-3 hidden items-center gap-3 text-sm text-slate-600"><img id="previewImg" alt="preview" class="h-10 w-10 rounded object-cover" /><span>Logo preview</span></div>
          </div>
          <label class="block">
            <span class="block text-sm font-medium text-[#1E3A5F]">Timezone *</span>
            <select id="timezone" class="mt-1 w-full rounded-xl border px-3 py-2 border-slate-200">
              <option value="">Select timezone</option>
              <option>UTC</option>
              <option>Asia/Manila (UTC+8)</option>
              <option>America/New_York (UTC-5)</option>
              <option>Europe/London (UTC+0)</option>
            </select>
          </label>
          <input type="hidden" id="planHidden" value="Pro" />
          
          
          <label class="md:col-span-2 inline-flex items-center gap-2 text-sm text-slate-700">
            <input id="agree" type="checkbox" /> I agree to the Terms & Privacy.
          </label>
          <div id="msg" class="md:col-span-2 hidden rounded-xl border px-4 py-3 text-sm"></div>
          <div class="md:col-span-2">
            <button id="submit" class="w-full rounded-full px-5 py-3 font-semibold text-white" style="background:linear-gradient(135deg,#E6F0FF,var(--brand))">Start Free Trial</button>
          </div>
          </form>
        </div>
      </div>
    </div>
  </main>
  <script>
    // Apply watermark using brand logo if available
    (function(){
      try{
        const brand = JSON.parse(localStorage.getItem('uniconBrand')||'null');
        if (brand?.logoData) document.getElementById('wm').style.backgroundImage = `url('${brand.logoData}')`;
        else document.getElementById('wm').style.backgroundImage = `url('../UNICON.png?v=1758434378')`;
        if (brand?.color) document.getElementById('submit').style.background = brand.color;
      }catch{}
    })();
    const $ = (id) => document.getElementById(id);
    const form = $('reg');
    let selectedPlan = 'Pro';
    // Plan selection via cards' buttons
    document.querySelectorAll('.choose-plan').forEach(btn => btn.addEventListener('click', (e)=>{
      selectedPlan = e.currentTarget.getAttribute('data-plan');
      document.querySelectorAll('.plan-card').forEach(card=>{ card.style.borderColor = '#E5E7EB'; card.classList.remove('ring-2'); });
      const card = e.currentTarget.closest('.plan-card');
      if (card){ card.style.borderColor = getComputedStyle(document.documentElement).getPropertyValue('--brand') || '#1D4E89'; card.classList.add('ring-2'); }
      // Scroll to the form part after choosing
      const tag = document.getElementById('selectedPlan');
      if (tag) tag.textContent = selectedPlan;
      form.scrollIntoView({ behavior:'smooth', block:'start' });
    }));
    function setBrandColor(hex){
      $('colorLabel').textContent = hex;
      document.documentElement.style.setProperty('--brand', hex);
      // simple lighten
      try{ const c=hex.replace('#',''); const r=parseInt(c.slice(0,2),16), g=parseInt(c.slice(2,4),16), b=parseInt(c.slice(4,6),16); const lr=Math.min(255,Math.round(r+ (255-r)*0.25)), lg=Math.min(255,Math.round(g+ (255-g)*0.25)), lb=Math.min(255,Math.round(b+ (255-b)*0.25)); document.documentElement.style.setProperty('--brand2', `#${lr.toString(16).padStart(2,'0')}${lg.toString(16).padStart(2,'0')}${lb.toString(16).padStart(2,'0')}`);}catch{}
    }
    $('color').addEventListener('input', (e)=> setBrandColor(e.target.value));
    let logoData = null;
    $('logo').addEventListener('change', (e)=>{
      const f = e.target.files && e.target.files[0];
      if (!f) return;
      const r = new FileReader();
      r.onload = () => { logoData = r.result; $('previewImg').src = logoData; $('preview').classList.remove('hidden'); };
      r.readAsDataURL(f);
    });
    form.addEventListener('submit', (e)=>{
      e.preventDefault();
      const name = $('name').value.trim();
      const email = $('email').value.trim();
      const password = $('password').value;
      const confirm = $('confirm').value;
      const school = $('school').value.trim();
      const color = $('color').value;
      const subdomain = $('subdomain').value.trim();
      const timezone = $('timezone').value;
      const agree = $('agree').checked;
      const msg = $('msg');
      const show = (text, ok=false)=>{ msg.classList.remove('hidden'); msg.style.borderColor = '#D1D5DB'; msg.style.backgroundColor = ok ? '#ecfdf5' : '#fff7ed'; msg.style.color = ok ? '#065f46' : '#7c2d12'; msg.textContent = text; };
      if (!name || !email || !password || !confirm || !school || !timezone) return show('Please fill in all required fields.');
      if (!email.includes('@')) return show('Enter a valid email.');
      if (password.length < 6) return show('Password must be at least 6 characters.');
      if (password !== confirm) return show('Passwords do not match.');
      if (!agree) return show('Please agree to the Terms.');
      try {
        localStorage.setItem('unicon_user', JSON.stringify({ name, email, password, school, plan: selectedPlan, color, logo: logoData }));
        localStorage.setItem('uniconBrand', JSON.stringify({ name: school, color, logoData, plan: selectedPlan, subdomain, timezone }));
      } catch {}
      show('Account created! Redirecting to login…', true);
      setTimeout(()=>{ window.location.href = 'login.html'; }, 600);
    });

    // Initialize with saved brand if exists
    (function(){ try{ const brand = JSON.parse(localStorage.getItem('uniconBrand')||'null'); if(brand?.color){ $('color').value = brand.color; setBrandColor(brand.color);} document.getElementById('wm').style.backgroundImage = `url('${brand?.logoData || '../UNICON.png?v=1758434378'}')`; }catch{} })();
  </script>
</body>
</html>
