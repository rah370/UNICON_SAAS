<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Log in – UNICON</title>
  <link rel="icon" href="../UNICON.png?v=1758434378" type="image/png" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root{ --brand:#1D4E89; --brand2:#6AA7D8; }
    body { font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; background:#F7F7F4; }
    /* UNICON watermark background */
    .wm{position:fixed;inset:0;pointer-events:none;background-repeat:no-repeat;background-position:center;background-size:min(60vw, 680px);opacity:.08;z-index:0}
  </style>
</head>
<body class="antialiased text-slate-900">
  <div id="wm" class="wm" aria-hidden="true"></div>
  

  <main class="relative z-10 min-h-screen grid place-items-center px-4 py-10">
    <div class="max-w-6xl mx-auto rounded-[28px] overflow-hidden shadow-2xl border border-slate-200/70" style="background:linear-gradient(180deg, #ffffffcc, #ffffffb0)">
      <div class="grid md:grid-cols-2 min-h-[540px]">
        <!-- Left gradient welcome -->
        <div class="relative p-10 md:p-14 text-white flex items-center" style="background:linear-gradient(135deg, var(--brand) 0%, var(--brand2) 100%);">
          <div class="relative z-10 max-w-xl">
            <h1 class="text-3xl md:text-5xl font-semibold">Welcome to UNICON</h1>
            <p class="mt-4 text-base md:text-lg text-white/90">All-in-one campus hub for announcements, events, forums, marketplace and academic tools. Make campus life clearer, safer and more connected.</p>
          </div>
          <!-- Decorative shapes -->
          <div class="pointer-events-none absolute inset-0 opacity-30">
            <div class="absolute -bottom-8 left-10 w-52 h-20 rounded-full" style="background:linear-gradient(90deg, #fff6, #fff0);"></div>
            <div class="absolute bottom-16 left-40 w-64 h-24 rounded-full rotate-12" style="background:linear-gradient(90deg, #fff7, #fff0);"></div>
            <div class="absolute bottom-24 left-64 w-40 h-16 rounded-full -rotate-6" style="background:linear-gradient(90deg, #fff7, #fff0);"></div>
            <div class="absolute bottom-10 right-10 w-56 h-20 rounded-full rotate-3" style="background:linear-gradient(90deg, #fff6, #fff0);"></div>
          </div>
        </div>

        <!-- Right login card -->
        <div class="bg-white p-8 md:p-12 flex items-center">
          <div class="w-full">
            <h2 class="text-center font-semibold tracking-wide" style="color:var(--brand)">USER LOGIN</h2>
            <form id="loginForm" class="mt-8 space-y-4 max-w-sm mx-auto">
              <div class="relative">
                <input id="email" type="email" placeholder="Email" class="w-full rounded-full border border-slate-200 px-4 py-3 pl-12 bg-slate-50 focus:outline-none focus:ring-2 focus:ring-[color:var(--brand)]" />
                <svg class="absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
              </div>
              <div class="relative">
                <input id="password" type="password" placeholder="Password" class="w-full rounded-full border border-slate-200 px-4 py-3 pl-12 bg-slate-50 focus:outline-none focus:ring-2 focus:ring-[color:var(--brand)]" />
                <svg class="absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
              </div>
              <div class="flex items-center justify-between text-sm text-slate-600">
                <label class="inline-flex items-center gap-2"><input id="remember" type="checkbox" class="rounded border-slate-300" /> Remember</label>
                <a href="forgot.html" class="hover:underline" style="color:var(--brand)">Forgot password?</a>
              </div>
              <div id="msg" class="hidden rounded-xl border px-4 py-3 text-sm"></div>
              <button id="loginBtn" class="w-full h-12 rounded-full font-semibold text-white shadow-md" style="background:linear-gradient(90deg, var(--brand2), var(--brand));">LOGIN</button>
              <div class="flex items-center justify-end text-sm pt-1">
                <a href="index.html" class="text-slate-600 hover:underline">Home</a>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </main>
  <script>
    function getBrand(){ try{ return JSON.parse(localStorage.getItem('uniconBrand')||'null'); }catch{ return null; } }
    const brand = getBrand();
    // Guard against missing header elements on this page
    const headerLogo = document.getElementById('logo');
    const headerSchool = document.getElementById('school');
    if (brand?.logoData && headerLogo) headerLogo.src = brand.logoData;
    if (brand?.name && headerSchool) headerSchool.textContent = brand.name;
    // Update theme variables based on brand color
    const setCssVar = (k,v)=>document.documentElement.style.setProperty(k,v);
    function hexToHsl(hex){ hex=hex.replace('#',''); if(hex.length===3) hex=[...hex].map(x=>x+x).join(''); const r=parseInt(hex.slice(0,2),16)/255,g=parseInt(hex.slice(2,4),16)/255,b=parseInt(hex.slice(4,6),16)/255; const max=Math.max(r,g,b),min=Math.min(r,g,b); let h,s,l=(max+min)/2; if(max===min){h=s=0;} else { const d=max-min; s=l>0.5? d/(2-max-min): d/(max+min); switch(max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4;break;} h/=6; } return {h:Math.round(h*360),s:Math.round(s*100),l:Math.round(l*100)} }
    function lighten(hex,by){ const {h,s,l}=hexToHsl(hex); const nl=Math.min(100, l+by); return `hsl(${h} ${s}% ${nl}%)`; }
    if (brand?.color){ setCssVar('--brand', brand.color); setCssVar('--brand2', lighten(brand.color, 25)); }
    document.getElementById('wm').style.backgroundImage = `url('${brand?.logoData || '../UNICON.png?v=1758434378'}')`;

    // Login form handler (localStorage demo auth)
    const form = document.getElementById('loginForm');
    if (form) {
      form.addEventListener('submit', (e)=>{
        e.preventDefault();
        const email = document.getElementById('email').value.trim();
        const password = document.getElementById('password').value;
        const msg = document.getElementById('msg');
        const show = (text, ok=false)=>{ msg.classList.remove('hidden'); msg.style.borderColor = '#D1D5DB'; msg.style.backgroundColor = ok ? '#ecfdf5' : '#fff7ed'; msg.style.color = ok ? '#065f46' : '#7c2d12'; msg.textContent = text; };
        let data = null; try { data = JSON.parse(localStorage.getItem('unicon_user')||'null'); } catch{}
        if (!data) return show('No account found. Please register first.');
        if (data.email !== email || data.password !== password) return show('Invalid email or password.');
        try { localStorage.setItem('uniconSessionEmail', email); } catch{}
        show('Success! Redirecting…', true);
        setTimeout(()=>{ window.location.href = 'for-you.html'; }, 400);
      });
    }
  </script>
</body>
</html>
